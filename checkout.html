<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Thanh to√°n - BookStore</title>
  <link rel="stylesheet" href="css/checkout.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/cart-preview.css" />

</head>

<body id="page-checkout">
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="index.html">BookStore</a>
      <nav class="main-nav">
        <a href="products.html">S·∫£n ph·∫©m</a>
        <a href="orders.html">ƒê∆°n h√†ng c·ªßa t√¥i</a>
      </nav>
    </div>
  </header>

  <main class="container">    
    <h2>Th√¥ng tin thanh to√°n</h2> 
    <form id="checkout-form" class="checkout-form">
      <label id="address">ƒê·ªãa ch·ªâ</label>
      <select id="addressSelect" aria-label="Ch·ªçn ƒë·ªãa ch·ªâ">
        <option value="">-- Ch·ªçn ƒë·ªãa ch·ªâ --</option>
        <option value="new">Nh·∫≠p ƒë·ªãa ch·ªâ m·ªõi</option>
      </select>

      <div id="newAddressContainer" class="new-address" aria-hidden="true">
        <label for="fullname">H·ªç v√† t√™n</label>
        <input id="fullname" type="text" placeholder="Nh·∫≠p h·ªç v√† t√™n" />


        <label for="phone" style="margin-top:8px">S·ªë ƒëi·ªán tho·∫°i</label>
        <input id="phone" type="tel" placeholder="0xxxxxxxxxx" />


        <label for="street" style="margin-top:8px">ƒê·ªãa ch·ªâ (s·ªë nh√†, ƒë∆∞·ªùng)</label>
        <input id="street" type="text" placeholder="S·ªë nh√†, t√™n ƒë∆∞·ªùng" />


        <div class="row" style="margin-top:8px">
          <div class="col">
            <label for="district">Qu·∫≠n / Huy·ªán</label>
            <input id="district" type="text" placeholder="Qu·∫≠n / Huy·ªán" />
          </div>

          <div class="col">
            <label for="city">T·ªânh / Th√†nh ph·ªë</label>
            <input id="city" type="text" placeholder="T·ªânh / TP" />
          </div>
        </div>


        <label for="note" style="margin-top:8px">Ghi ch√∫ (kh√¥ng b·∫Øt bu·ªôc)</label>
        <textarea id="note" rows="2" placeholder="V√≠ d·ª•: nh√† ngo√†i ng√µ, g·∫ßn c·ªôt ƒëi·ªán..."></textarea>
        
        <div style="margin-top: 12px;">
  <label 
    for="saveAddress" 
    style="
      display: flex; 
      align-items: center; 
      gap: 8px; 
      cursor: pointer; 
      font-family: 'Segoe UI', sans-serif; 
      font-size: 14px; 
      color: #1a1a1a;
    "
  >
    <input 
      id="saveAddress" 
      type="checkbox" 
      checked 
      style="
        width: 16px; 
        height: 16px; 
        accent-color: #007b83; /* m√†u ch·ªß ƒë·∫°o */
        cursor: pointer;
      "
    />
    <span>L∆∞u ƒë·ªãa ch·ªâ n√†y cho l·∫ßn t·ªõi</span>
  </label>
</div>

      </div>

        <label>Ph∆∞∆°ng th·ª©c thanh to√°n:</label>
        <select id="payment">
          <option value="cod">Thanh to√°n khi nh·∫≠n h√†ng (b·∫±ng ti·ªÅn m·∫∑t)</option>
          <option value="bank">Thanh to√°n tr·ª±c tuy·∫øn (b·∫±ng chuy·ªÉn kho·∫£n)</option>
        </select>

      <button id="submit" class="btn primary">X√°c nh·∫≠n mua h√†ng</button>

      <div class="card success" id="successCard">
        <h2>üéâ B·∫°n ƒë√£ mua h√†ng th√†nh c√¥ng!</h2>
        <p>C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t h√†ng. Ch√∫ng t√¥i s·∫Ω giao h√†ng trong th·ªùi gian s·ªõm nh·∫•t.</p>
        <button id="viewOrderBtn">Xem ƒë∆°n h√†ng c·ªßa b·∫°n</button>
        <div id="orderDetails" class="order-details hidden"></div>
      </div>
    </form>
  </main>

  <footer class="site-footer">
    <div class="container">¬© <span id="year6"></span> BookStore.</div>
  </footer>

  <script src="js/main.js"></script>
  <script src="js/cart.js"></script>
  <script>
    // Ki·ªÉm tra x√°c th·ª±c tr∆∞·ªõc khi cho ph√©p checkout
    document.addEventListener('DOMContentLoaded', () => {
      const auth = getAuth();
      if (!auth) {
        document.querySelector('main').innerHTML = `
          <div style="text-align: center; padding: 40px; color: #6b7280;">
            <h3>Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ ti·∫øp t·ª•c thanh to√°n</h3>
            <a href="login.html" class="btn primary" style="margin-top: 20px; display: inline-block;">ƒêƒÉng nh·∫≠p</a>
          </div>
        `;
      }
    });
  </script>
</body>
</html>